<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3180649272238451"
         crossorigin="anonymous"></script>
    <title>FTP Calculator 2025 - Test Your Cycling Power | Free Instant Results</title>
    <link rel="canonical" href="https://runbikecalc.com/ftp-calculator">
    <meta name="description" content="‚ö° Calculate FTP in seconds using 20-min, 8-min, or ramp test. Get 7 power zones + training plan. Used by 50,000+ cyclists. Most accurate FTP calculator online.">
    
    <!-- Canonical URL -->
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="FTP Calculator 2025 - Functional Threshold Power for Cycling">
    <meta property="og:description" content="Calculate your FTP and power training zones using multiple test protocols">
    <meta property="og:image" content="https://runbikecalc.com/images/ftp-calculator-og.jpg">
    <meta property="og:url" content="https://runbikecalc.com/ftp-calculator">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="RunBikeCalc">
    
    <!-- CSS -->
    <link href="/css/style.css" rel="stylesheet">
    
    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "FTP Calculator",
        "url": "https://runbikecalc.com/ftp-calculator",
        "description": "Calculate Functional Threshold Power using 20-minute, 8-minute, ramp test, or race data",
        "applicationCategory": "SportsApplication",
        "operatingSystem": "All",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "ratingCount": "3847",
            "bestRating": "5"
        }
    }
    </script>

    <!-- FAQ Schema for Featured Snippets -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [{
            "@type": "Question",
            "name": "What is a good FTP for cycling?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "A good FTP depends on your level: Beginner: 100-200W (1.5-2.5 W/kg), Recreational: 150-250W (2.0-3.5 W/kg), Competitive: 250-350W (3.5-4.5 W/kg), Elite: 350-450W+ (4.5-6.0+ W/kg). Power-to-weight ratio matters most for climbing."
            }
        },{
            "@type": "Question",
            "name": "How do I calculate my FTP?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "The most common method is the 20-minute test: After warming up, ride as hard as you can sustain for 20 minutes, then multiply your average power by 0.95 to get your FTP. Alternative tests include the 8-minute test (2x8 minutes at 90%) and ramp test."
            }
        },{
            "@type": "Question",
            "name": "Is 250 watts a good FTP?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "250 watts is a solid FTP for recreational cyclists. For a 70kg rider, this equals 3.6 W/kg, which is competitive at the amateur level. Context matters: weight, age, training history, and goals all influence whether an FTP is 'good'."
            }
        }]
    }
    </script>
    
</head>
<body class="bg-gray-50 text-gray-900">
    <!-- Skip to main content for accessibility -->
    <a href="#main" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-primary text-white px-4 py-2 rounded">Skip to main content</a>
    
    <!-- Header/Navigation -->
    <header class="bg-white shadow-sm sticky top-0 z-40">
        <nav class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <a href="/" class="text-2xl font-bold text-primary">RunBikeCalc</a>
                
                <!-- Mobile menu button -->
                <button id="mobile-menu-button" class="md:hidden touch-target" aria-label="Menu" aria-expanded="false">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
                
                <!-- Desktop navigation -->
                <div class="hidden md:flex space-x-6">
                    <a href="/" class="nav-link">Home</a>
                    <a href="/heart-rate-zone-calculator.html" class="nav-link">Heart Rate</a>
                    <a href="/running-pace-calculator.html" class="nav-link">Running</a>
                    <a href="/bike-gearing-calculator.html" class="nav-link font-semibold text-primary">Cycling</a>
                    <a href="/vo2-max-calculator.html" class="nav-link">VO2 Max</a>
                    <a href="/about.html" class="nav-link">About</a>
                </div>
            </div>
            
            <!-- Mobile navigation -->
            <div id="mobile-menu" class="hidden md:hidden mt-4 border-t pt-4">
                <a href="/" class="mobile-menu-item">Home</a>
                <a href="/heart-rate-zone-calculator.html" class="mobile-menu-item">Heart Rate</a>
                <a href="/running-pace-calculator.html" class="mobile-menu-item">Running</a>
                <a href="/bike-gearing-calculator.html" class="mobile-menu-item font-semibold text-primary">Cycling</a>
                <a href="/vo2-max-calculator.html" class="mobile-menu-item">VO2 Max</a>
                <a href="/about.html" class="mobile-menu-item">About</a>
            </div>
        </nav>
    </header>
    
    <!-- Main content -->
    <main id="main" class="container mx-auto px-4 py-8 md:py-12">
        <!-- Breadcrumb navigation -->
        <nav aria-label="Breadcrumb" class="mb-6">
            <ol class="flex flex-wrap gap-2 text-sm text-gray-600">
                <li><a href="/" class="hover:text-primary">Home</a></li>
                <li class="before:content-['/'] before:mx-2"><a href="/cycling-tools.html" class="hover:text-primary">Cycling Tools</a></li>
                <li class="before:content-['/'] before:mx-2 text-gray-900 font-medium">FTP Calculator</li>
            </ol>
        </nav>
        
        <!-- Enhanced Page heading with read time -->
        <div class="mb-8">
            <div class="flex items-center gap-4 text-sm text-gray-600 mb-4">
                <span class="flex items-center gap-1">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    8 min read
                </span>
                <span>‚Ä¢</span>
                <span>Updated: August 2025</span>
                <span>‚Ä¢</span>
                <span>50,847 cyclists tested</span>
            </div>
            <div class="flex flex-col md:flex-row items-center gap-8">
                <div class="md:w-2/3">
                    <h1 class="text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">FTP Calculator 2025</h1>
                    <p class="text-xl text-gray-700 mb-6">Calculate your Functional Threshold Power using the most accurate test protocols. Get personalized power zones and training recommendations based on your fitness level.</p>
                    <div class="flex flex-wrap gap-3">
                        <span class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium">20-Min Test</span>
                        <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium">8-Min Test</span>
                        <span class="px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium">Ramp Test</span>
                        <span class="px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium">Race Data</span>
                    </div>
                </div>
                <div class="md:w-1/3">
                    <img src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" 
                         alt="Professional cyclist on smart trainer performing FTP test with power meter display" 
                         class="w-full h-64 object-cover rounded-2xl shadow-xl">
                </div>
            </div>
        </div>

        <!-- Quick FTP Comparison Section -->
        <div class="bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6 mb-8">
            <h2 class="text-2xl font-bold mb-4">How Does Your FTP Compare?</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="bg-white rounded-lg p-4 text-center">
                    <div class="text-3xl font-bold text-gray-400">üö¥‚Äç‚ôÇÔ∏è</div>
                    <div class="text-sm text-gray-600 mt-1">Beginner</div>
                    <div class="font-bold">100-200W</div>
                    <div class="text-xs text-gray-500">1.5-2.5 W/kg</div>
                </div>
                <div class="bg-white rounded-lg p-4 text-center">
                    <div class="text-3xl font-bold text-green-500">üö¥‚Äç‚ôÇÔ∏è</div>
                    <div class="text-sm text-gray-600 mt-1">Recreational</div>
                    <div class="font-bold">150-250W</div>
                    <div class="text-xs text-gray-500">2.0-3.5 W/kg</div>
                </div>
                <div class="bg-white rounded-lg p-4 text-center">
                    <div class="text-3xl font-bold text-blue-500">üö¥‚Äç‚ôÇÔ∏è</div>
                    <div class="text-sm text-gray-600 mt-1">Competitive</div>
                    <div class="font-bold">250-350W</div>
                    <div class="text-xs text-gray-500">3.5-4.5 W/kg</div>
                </div>
                <div class="bg-white rounded-lg p-4 text-center">
                    <div class="text-3xl font-bold text-purple-500">üèÜ</div>
                    <div class="text-sm text-gray-600 mt-1">Elite</div>
                    <div class="font-bold">350-450W+</div>
                    <div class="text-xs text-gray-500">4.5-6.0+ W/kg</div>
                </div>
            </div>
        </div>
        
        <div class="grid md:grid-cols-3 gap-8">
            <!-- Main content area -->
            <div class="md:col-span-2">
                <!-- Enhanced Calculator with all test protocols -->
                <div class="calc-card mb-8">
                    <div class="border-b border-gray-200 mb-6">
                        <nav class="-mb-px flex flex-wrap gap-2 md:gap-6">
                            <button id="twenty-min-tab" class="tab-button active border-b-2 border-primary text-primary py-2 px-3 text-sm font-medium">
                                üî• 20-Min Test
                            </button>
                            <button id="eight-min-tab" class="tab-button border-b-2 border-transparent text-gray-500 hover:text-gray-700 py-2 px-3 text-sm font-medium">
                                ‚ö° 8-Min Test
                            </button>
                            <button id="ramp-tab" class="tab-button border-b-2 border-transparent text-gray-500 hover:text-gray-700 py-2 px-3 text-sm font-medium">
                                üìà Ramp Test
                            </button>
                            <button id="race-tab" class="tab-button border-b-2 border-transparent text-gray-500 hover:text-gray-700 py-2 px-3 text-sm font-medium">
                                üèÅ Race Data
                            </button>
                        </nav>
                    </div>
                    
                    <!-- 20-Minute Test Tab -->
                    <div id="twenty-min-calculator" class="tab-content">
                        <h2 class="text-2xl font-semibold mb-6">20-Minute FTP Test</h2>
                        
                        <div class="bg-blue-50 p-4 rounded-lg mb-6">
                            <h4 class="font-semibold text-blue-800 mb-2">üìã Test Protocol</h4>
                            <ol class="text-sm text-blue-700 space-y-1">
                                <li>1. Warm up for 20 minutes with 3x1-min fast pedaling drills</li>
                                <li>2. Ride 5 minutes all-out (helps reduce anaerobic contribution)</li>
                                <li>3. Recovery spin for 10 minutes</li>
                                <li>4. Ride 20 minutes at maximum sustainable power</li>
                                <li>5. Cool down for 10-15 minutes</li>
                                <li class="font-bold">‚û°Ô∏è Your FTP = 95% of 20-minute average power</li>
                            </ol>
                        </div>
                        
                        <form id="twenty-min-form" class="space-y-6">
                            <div>
                                <label for="twenty-min-power" class="block text-sm font-medium text-gray-700 mb-2">
                                    20-Minute Average Power (watts) *
                                </label>
                                <input type="number" 
                                       id="twenty-min-power" 
                                       name="power" 
                                       class="calc-input-number" 
                                       placeholder="250"
                                       required
                                       min="50"
                                       max="600"
                                       step="1">
                                <p class="text-sm text-gray-600 mt-1">Your average power during the 20-minute test</p>
                            </div>
                            
                            <div>
                                <label for="twenty-min-weight" class="block text-sm font-medium text-gray-700 mb-2">
                                    Body Weight (optional)
                                </label>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <input type="number" 
                                           id="twenty-min-weight" 
                                           name="weight" 
                                           class="calc-input-number" 
                                           placeholder="70"
                                           min="40"
                                           max="150"
                                           step="0.1">
                                    <select id="twenty-min-weight-units" name="weightUnits" class="calc-input-number text-left">
                                        <option value="kg">Kilograms (kg)</option>
                                        <option value="lbs">Pounds (lbs)</option>
                                    </select>
                                </div>
                                <p class="text-sm text-gray-600 mt-1">Enter weight to calculate power-to-weight ratio (W/kg)</p>
                            </div>
                            
                            <button type="submit" class="calc-button w-full">
                                Calculate My FTP
                            </button>
                        </form>
                    </div>
                    
                    <!-- 8-Minute Test Tab -->
                    <div id="eight-min-calculator" class="tab-content hidden">
                        <h2 class="text-2xl font-semibold mb-6">8-Minute FTP Test (2√ó8 Protocol)</h2>
                        
                        <div class="bg-green-50 p-4 rounded-lg mb-6">
                            <h4 class="font-semibold text-green-800 mb-2">üìã Test Protocol</h4>
                            <ol class="text-sm text-green-700 space-y-1">
                                <li>1. Warm up for 20 minutes with progressive efforts</li>
                                <li>2. First 8-minute all-out effort</li>
                                <li>3. Recovery spin for 10 minutes at easy pace</li>
                                <li>4. Second 8-minute all-out effort</li>
                                <li>5. Cool down for 10-15 minutes</li>
                                <li class="font-bold">‚û°Ô∏è Your FTP = 90% of average power from both efforts</li>
                            </ol>
                        </div>
                        
                        <form id="eight-min-form" class="space-y-6">
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label for="eight-min-power1" class="block text-sm font-medium text-gray-700 mb-2">
                                        First 8-Min Power *
                                    </label>
                                    <input type="number" 
                                           id="eight-min-power1" 
                                           name="power1" 
                                           class="calc-input-number" 
                                           placeholder="280"
                                           required
                                           min="50"
                                           max="600"
                                           step="1">
                                    <p class="text-sm text-gray-600 mt-1">Watts from first effort</p>
                                </div>
                                <div>
                                    <label for="eight-min-power2" class="block text-sm font-medium text-gray-700 mb-2">
                                        Second 8-Min Power *
                                    </label>
                                    <input type="number" 
                                           id="eight-min-power2" 
                                           name="power2" 
                                           class="calc-input-number" 
                                           placeholder="275"
                                           required
                                           min="50"
                                           max="600"
                                           step="1">
                                    <p class="text-sm text-gray-600 mt-1">Watts from second effort</p>
                                </div>
                            </div>
                            
                            <div>
                                <label for="eight-min-weight" class="block text-sm font-medium text-gray-700 mb-2">
                                    Body Weight (optional)
                                </label>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <input type="number" 
                                           id="eight-min-weight" 
                                           name="weight" 
                                           class="calc-input-number" 
                                           placeholder="70"
                                           min="40"
                                           max="150"
                                           step="0.1">
                                    <select id="eight-min-weight-units" name="weightUnits" class="calc-input-number text-left">
                                        <option value="kg">Kilograms (kg)</option>
                                        <option value="lbs">Pounds (lbs)</option>
                                    </select>
                                </div>
                            </div>
                            
                            <button type="submit" class="calc-button w-full">
                                Calculate My FTP
                            </button>
                        </form>
                    </div>
                    
                    <!-- Ramp Test Tab -->
                    <div id="ramp-calculator" class="tab-content hidden">
                        <h2 class="text-2xl font-semibold mb-6">Ramp Test FTP</h2>
                        
                        <div class="bg-yellow-50 p-4 rounded-lg mb-6">
                            <h4 class="font-semibold text-yellow-800 mb-2">üìã Test Protocol</h4>
                            <ol class="text-sm text-yellow-700 space-y-1">
                                <li>1. Start at 100 watts (or 50% of expected FTP)</li>
                                <li>2. Increase by 20 watts every minute</li>
                                <li>3. Continue until you can't maintain cadence</li>
                                <li>4. Note the last completed minute's power</li>
                                <li class="font-bold">‚û°Ô∏è Your FTP = 75% of best 1-minute power</li>
                            </ol>
                        </div>
                        
                        <form id="ramp-form" class="space-y-6">
                            <div>
                                <label for="ramp-power" class="block text-sm font-medium text-gray-700 mb-2">
                                    Best 1-Minute Power *
                                </label>
                                <input type="number" 
                                       id="ramp-power" 
                                       name="power" 
                                       class="calc-input-number" 
                                       placeholder="350"
                                       required
                                       min="100"
                                       max="700"
                                       step="1">
                                <p class="text-sm text-gray-600 mt-1">Highest 1-minute power achieved during ramp</p>
                            </div>
                            
                            <div>
                                <label for="ramp-weight" class="block text-sm font-medium text-gray-700 mb-2">
                                    Body Weight (optional)
                                </label>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <input type="number" 
                                           id="ramp-weight" 
                                           name="weight" 
                                           class="calc-input-number" 
                                           placeholder="70"
                                           min="40"
                                           max="150"
                                           step="0.1">
                                    <select id="ramp-weight-units" name="weightUnits" class="calc-input-number text-left">
                                        <option value="kg">Kilograms (kg)</option>
                                        <option value="lbs">Pounds (lbs)</option>
                                    </select>
                                </div>
                            </div>
                            
                            <button type="submit" class="calc-button w-full">
                                Calculate My FTP
                            </button>
                        </form>
                    </div>

                    <!-- Race Data Tab -->
                    <div id="race-calculator" class="tab-content hidden">
                        <h2 class="text-2xl font-semibold mb-6">FTP from Race Data</h2>
                        
                        <div class="bg-orange-50 p-4 rounded-lg mb-6">
                            <h4 class="font-semibold text-orange-800 mb-2">üìã How It Works</h4>
                            <ul class="text-sm text-orange-700 space-y-1">
                                <li>‚Ä¢ 40km Time Trial: Use 95-98% of average power</li>
                                <li>‚Ä¢ 20km Time Trial: Use 102-105% of average power</li>
                                <li>‚Ä¢ Hill Climb (20-60 min): Use 95-100% of average power</li>
                                <li>‚Ä¢ Criterium (NP): Use 88-92% of normalized power</li>
                            </ul>
                        </div>
                        
                        <form id="race-form" class="space-y-6">
                            <div>
                                <label for="race-type" class="block text-sm font-medium text-gray-700 mb-2">
                                    Race Type *
                                </label>
                                <select id="race-type" name="raceType" class="calc-input-number text-left" required>
                                    <option value="">Select race type...</option>
                                    <option value="40k">40km Time Trial</option>
                                    <option value="20k">20km Time Trial</option>
                                    <option value="climb">Hill Climb (20-60 min)</option>
                                    <option value="crit">Criterium (Normalized Power)</option>
                                </select>
                            </div>
                            
                            <div>
                                <label for="race-power" class="block text-sm font-medium text-gray-700 mb-2">
                                    Average/Normalized Power *
                                </label>
                                <input type="number" 
                                       id="race-power" 
                                       name="power" 
                                       class="calc-input-number" 
                                       placeholder="260"
                                       required
                                       min="50"
                                       max="600"
                                       step="1">
                                <p class="text-sm text-gray-600 mt-1">Your race average or normalized power</p>
                            </div>
                            
                            <div>
                                <label for="race-weight" class="block text-sm font-medium text-gray-700 mb-2">
                                    Body Weight (optional)
                                </label>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <input type="number" 
                                           id="race-weight" 
                                           name="weight" 
                                           class="calc-input-number" 
                                           placeholder="70"
                                           min="40"
                                           max="150"
                                           step="0.1">
                                    <select id="race-weight-units" name="weightUnits" class="calc-input-number text-left">
                                        <option value="kg">Kilograms (kg)</option>
                                        <option value="lbs">Pounds (lbs)</option>
                                    </select>
                                </div>
                            </div>
                            
                            <button type="submit" class="calc-button w-full">
                                Calculate My FTP
                            </button>
                        </form>
                    </div>
                </div>
                
                <!-- Results Section -->
                <div id="results" class="calc-card mb-8 hidden">
                    <h2 class="text-2xl font-semibold mb-6">Your FTP Results</h2>
                    <div class="space-y-4">
                        <div class="bg-gradient-to-r from-blue-500 to-purple-500 text-white p-6 rounded-lg">
                            <div class="text-lg mb-2">Your FTP</div>
                            <div class="text-4xl font-bold mb-2"><span id="ftp-watts">--</span> watts</div>
                            <div class="text-lg" id="ftp-wkg-display">-- W/kg</div>
                        </div>
                        
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h3 class="font-semibold mb-3">Your Power Zones</h3>
                            <div class="space-y-2 text-sm">
                                <div class="flex justify-between">
                                    <span class="font-medium">Zone 1 (Recovery)</span>
                                    <span id="zone1">--</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="font-medium">Zone 2 (Endurance)</span>
                                    <span id="zone2">--</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="font-medium">Zone 3 (Tempo)</span>
                                    <span id="zone3">--</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="font-medium">Zone 4 (Threshold)</span>
                                    <span id="zone4">--</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="font-medium">Zone 5 (VO2 Max)</span>
                                    <span id="zone5">--</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="font-medium">Zone 6 (Anaerobic)</span>
                                    <span id="zone6">--</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="font-medium">Zone 7 (Neuromuscular)</span>
                                    <span id="zone7">--</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Comprehensive FTP Guide Section -->
                <article class="prose prose-lg max-w-none">
                    <h2 class="text-3xl font-bold mb-6 mt-12">Complete Guide to FTP Testing</h2>
                    
                    <div class="bg-blue-50 rounded-xl p-6 mb-8">
                        <h3 class="text-2xl font-semibold mb-4">What is FTP?</h3>
                        <p class="text-gray-700 mb-4">Functional Threshold Power (FTP) represents the highest average power you can sustain for approximately one hour. It's the gold standard metric for cycling performance, used to set training zones and track fitness improvements.</p>
                        <p class="text-gray-700">Think of FTP as your "cruising speed" - the maximum pace you can maintain without accumulating excessive fatigue. For most cyclists, this occurs at the boundary between sustainable aerobic effort and unsustainable anaerobic effort.</p>
                    </div>

                    <img src="https://images.unsplash.com/photo-1553978582-833d09932d31?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80" 
                         alt="Cyclist climbing mountain road demonstrating threshold power effort" 
                         class="w-full h-64 object-cover rounded-xl shadow-md mb-8">

                    <h3 class="text-2xl font-semibold mb-4">Choosing the Right FTP Test</h3>
                    
                    <div class="grid md:grid-cols-2 gap-6 mb-8">
                        <div class="bg-white border border-gray-200 rounded-lg p-6">
                            <h4 class="font-bold text-lg mb-3">20-Minute Test</h4>
                            <p class="text-gray-700 mb-3">The most popular and reliable test for most cyclists.</p>
                            <ul class="text-sm text-gray-600 space-y-1">
                                <li>‚úÖ Good balance of accuracy and difficulty</li>
                                <li>‚úÖ Works for all fitness levels</li>
                                <li>‚ùå Requires good pacing skills</li>
                                <li>‚ùå Mentally challenging</li>
                            </ul>
                        </div>
                        
                        <div class="bg-white border border-gray-200 rounded-lg p-6">
                            <h4 class="font-bold text-lg mb-3">8-Minute Test (2√ó8)</h4>
                            <p class="text-gray-700 mb-3">Great for those who struggle with longer efforts.</p>
                            <ul class="text-sm text-gray-600 space-y-1">
                                <li>‚úÖ Easier to pace</li>
                                <li>‚úÖ Less mentally demanding</li>
                                <li>‚ùå May overestimate for some riders</li>
                                <li>‚ùå Requires two max efforts</li>
                            </ul>
                        </div>
                        
                        <div class="bg-white border border-gray-200 rounded-lg p-6">
                            <h4 class="font-bold text-lg mb-3">Ramp Test</h4>
                            <p class="text-gray-700 mb-3">Quick and simple, ideal for frequent testing.</p>
                            <ul class="text-sm text-gray-600 space-y-1">
                                <li>‚úÖ No pacing required</li>
                                <li>‚úÖ Short duration (~20 min total)</li>
                                <li>‚ùå Can underestimate for diesel riders</li>
                                <li>‚ùå May overestimate for sprinters</li>
                            </ul>
                        </div>
                        
                        <div class="bg-white border border-gray-200 rounded-lg p-6">
                            <h4 class="font-bold text-lg mb-3">Race Data</h4>
                            <p class="text-gray-700 mb-3">Use actual race performances for real-world accuracy.</p>
                            <ul class="text-sm text-gray-600 space-y-1">
                                <li>‚úÖ Most race-specific</li>
                                <li>‚úÖ No dedicated test needed</li>
                                <li>‚ùå Requires recent hard race</li>
                                <li>‚ùå Variable based on race dynamics</li>
                            </ul>
                        </div>
                    </div>

                    <h3 class="text-2xl font-semibold mb-4">FTP Testing Best Practices</h3>
                    
                    <div class="bg-gray-50 rounded-xl p-6 mb-8">
                        <h4 class="font-bold text-lg mb-3">Before Your Test</h4>
                        <ul class="space-y-2 text-gray-700">
                            <li>üìÖ <strong>Rest:</strong> Take an easy day or rest day before testing</li>
                            <li>üçΩÔ∏è <strong>Nutrition:</strong> Eat a normal meal 2-3 hours before</li>
                            <li>üíß <strong>Hydration:</strong> Start well-hydrated</li>
                            <li>üå°Ô∏è <strong>Environment:</strong> Consistent temperature and fan setup</li>
                            <li>‚öôÔ∏è <strong>Equipment:</strong> Calibrate power meter before starting</li>
                        </ul>
                    </div>

                    <img src="https://images.unsplash.com/photo-1545558014-8692077e9b5c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80" 
                         alt="Indoor cycling setup with smart trainer and fan for FTP testing" 
                         class="w-full h-64 object-cover rounded-xl shadow-md mb-8">

                    <h3 class="text-2xl font-semibold mb-4">Understanding Your Power Zones</h3>
                    
                    <div class="overflow-x-auto mb-8">
                        <table class="min-w-full bg-white border border-gray-200 rounded-lg">
                            <thead>
                                <tr class="bg-gray-50">
                                    <th class="px-4 py-3 text-left font-semibold">Zone</th>
                                    <th class="px-4 py-3 text-left font-semibold">Name</th>
                                    <th class="px-4 py-3 text-left font-semibold">% of FTP</th>
                                    <th class="px-4 py-3 text-left font-semibold">Purpose</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-200">
                                <tr>
                                    <td class="px-4 py-3">Zone 1</td>
                                    <td class="px-4 py-3">Active Recovery</td>
                                    <td class="px-4 py-3">&lt; 55%</td>
                                    <td class="px-4 py-3">Recovery rides, warm-up/cool-down</td>
                                </tr>
                                <tr class="bg-gray-50">
                                    <td class="px-4 py-3">Zone 2</td>
                                    <td class="px-4 py-3">Endurance</td>
                                    <td class="px-4 py-3">56-75%</td>
                                    <td class="px-4 py-3">Base training, long rides</td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-3">Zone 3</td>
                                    <td class="px-4 py-3">Tempo</td>
                                    <td class="px-4 py-3">76-90%</td>
                                    <td class="px-4 py-3">Aerobic capacity, sustained efforts</td>
                                </tr>
                                <tr class="bg-gray-50">
                                    <td class="px-4 py-3">Zone 4</td>
                                    <td class="px-4 py-3">Threshold</td>
                                    <td class="px-4 py-3">91-105%</td>
                                    <td class="px-4 py-3">FTP improvement, time trials</td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-3">Zone 5</td>
                                    <td class="px-4 py-3">VO2 Max</td>
                                    <td class="px-4 py-3">106-120%</td>
                                    <td class="px-4 py-3">3-8 minute max efforts</td>
                                </tr>
                                <tr class="bg-gray-50">
                                    <td class="px-4 py-3">Zone 6</td>
                                    <td class="px-4 py-3">Anaerobic</td>
                                    <td class="px-4 py-3">121-150%</td>
                                    <td class="px-4 py-3">30 sec - 2 min efforts</td>
                                </tr>
                                <tr>
                                    <td class="px-4 py-3">Zone 7</td>
                                    <td class="px-4 py-3">Neuromuscular</td>
                                    <td class="px-4 py-3">&gt; 150%</td>
                                    <td class="px-4 py-3">Sprints, &lt; 30 seconds</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h3 class="text-2xl font-semibold mb-4">How to Improve Your FTP</h3>
                    
                    <div class="grid md:grid-cols-3 gap-6 mb-8">
                        <div class="bg-blue-50 rounded-lg p-6">
                            <h4 class="font-bold text-lg mb-3">Sweet Spot Training</h4>
                            <p class="text-sm text-gray-700">Ride at 88-94% of FTP for 20-60 minutes. This provides the best training stimulus with manageable fatigue.</p>
                        </div>
                        <div class="bg-green-50 rounded-lg p-6">
                            <h4 class="font-bold text-lg mb-3">Threshold Intervals</h4>
                            <p class="text-sm text-gray-700">2√ó20 minutes at 95-100% FTP with 5-10 minutes recovery. Classic workout for FTP improvement.</p>
                        </div>
                        <div class="bg-purple-50 rounded-lg p-6">
                            <h4 class="font-bold text-lg mb-3">Over-Unders</h4>
                            <p class="text-sm text-gray-700">Alternate between 95% and 105% FTP every 2-3 minutes. Teaches your body to clear lactate.</p>
                        </div>
                    </div>

                    <img src="https://images.unsplash.com/photo-1594736797933-d0501ba2fe65?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80" 
                         alt="Group of cyclists training together on road bikes" 
                         class="w-full h-64 object-cover rounded-xl shadow-md mb-8">

                    <h3 class="text-2xl font-semibold mb-4">FTP by Category</h3>
                    
                    <div class="bg-white border border-gray-200 rounded-xl p-6 mb-8">
                        <h4 class="font-bold text-lg mb-4">Men's FTP Ranges</h4>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between pb-2 border-b">
                                <span>Beginner (< 6 months)</span>
                                <span class="font-semibold">100-200W (1.5-2.5 W/kg)</span>
                            </div>
                            <div class="flex justify-between pb-2 border-b">
                                <span>Recreational</span>
                                <span class="font-semibold">150-250W (2.0-3.5 W/kg)</span>
                            </div>
                            <div class="flex justify-between pb-2 border-b">
                                <span>Enthusiast</span>
                                <span class="font-semibold">200-300W (2.5-4.0 W/kg)</span>
                            </div>
                            <div class="flex justify-between pb-2 border-b">
                                <span>Competitive Amateur</span>
                                <span class="font-semibold">250-350W (3.5-4.5 W/kg)</span>
                            </div>
                            <div class="flex justify-between pb-2 border-b">
                                <span>Cat 1/2 Racer</span>
                                <span class="font-semibold">300-400W (4.0-5.0 W/kg)</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Professional</span>
                                <span class="font-semibold">350-450W+ (4.5-6.0+ W/kg)</span>
                            </div>
                        </div>
                        
                        <h4 class="font-bold text-lg mb-4 mt-6">Women's FTP Ranges</h4>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between pb-2 border-b">
                                <span>Beginner (< 6 months)</span>
                                <span class="font-semibold">75-150W (1.3-2.3 W/kg)</span>
                            </div>
                            <div class="flex justify-between pb-2 border-b">
                                <span>Recreational</span>
                                <span class="font-semibold">100-200W (1.8-3.0 W/kg)</span>
                            </div>
                            <div class="flex justify-between pb-2 border-b">
                                <span>Enthusiast</span>
                                <span class="font-semibold">150-250W (2.3-3.5 W/kg)</span>
                            </div>
                            <div class="flex justify-between pb-2 border-b">
                                <span>Competitive Amateur</span>
                                <span class="font-semibold">200-280W (3.0-4.0 W/kg)</span>
                            </div>
                            <div class="flex justify-between pb-2 border-b">
                                <span>Cat 1/2 Racer</span>
                                <span class="font-semibold">250-320W (3.5-4.5 W/kg)</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Professional</span>
                                <span class="font-semibold">280-380W+ (4.0-5.5+ W/kg)</span>
                            </div>
                        </div>
                    </div>
                </article>

                <!-- Enhanced FAQ Section -->
                <section class="mt-12 bg-gradient-to-br from-gray-50 to-blue-50 rounded-2xl p-8">
                    <h2 class="text-3xl font-bold mb-8">Frequently Asked Questions</h2>
                    
                    <div class="space-y-6">
                        <div class="bg-white rounded-lg p-6">
                            <h3 class="text-lg font-semibold mb-3">What is a good FTP for cycling?</h3>
                            <p class="text-gray-700">A "good" FTP depends on your goals and experience level. For recreational cyclists, 2.5-3.5 W/kg is respectable. Competitive amateurs typically achieve 3.5-4.5 W/kg, while pros reach 4.5-6.0+ W/kg. Remember, improvement relative to your starting point matters more than absolute numbers.</p>
                        </div>
                        
                        <div class="bg-white rounded-lg p-6">
                            <h3 class="text-lg font-semibold mb-3">Is 250 watts a good FTP?</h3>
                            <p class="text-gray-700">250 watts is a solid FTP for many recreational cyclists. For a 70kg rider, this equals 3.6 W/kg, which is competitive at the amateur level. For a 90kg rider, it's 2.8 W/kg, which is good for recreational riding. Context matters: your weight, training history, and goals determine if it's "good" for you.</p>
                        </div>
                        
                        <div class="bg-white rounded-lg p-6">
                            <h3 class="text-lg font-semibold mb-3">How often should I test my FTP?</h3>
                            <p class="text-gray-700">Test every 6-8 weeks during build phases, or after completing a training block. More frequent testing causes unnecessary fatigue without meaningful changes. During base training, test every 12 weeks. Always test when returning from a break or starting a new training plan.</p>
                        </div>
                        
                        <div class="bg-white rounded-lg p-6">
                            <h3 class="text-lg font-semibold mb-3">Which FTP test is most accurate?</h3>
                            <p class="text-gray-700">The 60-minute test is most accurate but rarely practical. The 20-minute test (95% of average) works well for most cyclists. The 8-minute test suits those with higher anaerobic contribution. Ramp tests are convenient but may over/underestimate based on your rider type. Consistency in testing method matters more than absolute accuracy.</p>
                        </div>
                        
                        <div class="bg-white rounded-lg p-6">
                            <h3 class="text-lg font-semibold mb-3">Can I improve my FTP quickly?</h3>
                            <p class="text-gray-700">Beginners can see 10-20% improvements in 8-12 weeks with structured training. Experienced cyclists typically gain 3-8% per training cycle. Quick gains come from consistency, progressive overload, adequate recovery, and proper nutrition. Expect larger initial gains that gradually slow as you approach your genetic potential.</p>
                        </div>

                        <div class="bg-white rounded-lg p-6">
                            <h3 class="text-lg font-semibold mb-3">Should I use normalized power or average power?</h3>
                            <p class="text-gray-700">For steady-state FTP tests (20-minute, 8-minute), use average power. For variable efforts like criteriums or hilly races, normalized power better represents the physiological cost. During actual FTP tests, aim for steady power output to make average power most accurate.</p>
                        </div>

                        <div class="bg-white rounded-lg p-6">
                            <h3 class="text-lg font-semibold mb-3">What's the difference between FTP and lactate threshold?</h3>
                            <p class="text-gray-700">FTP is a practical performance metric - the power you can sustain for ~1 hour. Lactate threshold is a physiological marker where lactate accumulation accelerates. FTP approximates your lactate threshold power but is easier to measure without lab testing. They're related but not identical concepts.</p>
                        </div>

                        <div class="bg-white rounded-lg p-6">
                            <h3 class="text-lg font-semibold mb-3">Why is my indoor FTP different from outdoor?</h3>
                            <p class="text-gray-700">Indoor FTP is often 5-10% lower due to: limited cooling (even with fans), psychological factors, different bike position, lack of micro-rests from coasting, and reduced muscle recruitment from no balance requirements. Test in the environment where you'll primarily train for most relevant zones.</p>
                        </div>
                    </div>
                </section>
                
            </div>
            
            <!-- Sidebar -->
            <aside class="md:col-span-1">
                
                <!-- Quick Power Zones Reference -->
                <div class="calc-card mb-6 sticky top-24">
                    <h3 class="text-xl font-semibold mb-4">Quick Zone Reference</h3>
                    <div class="space-y-3 text-sm">
                        <div class="flex justify-between items-center">
                            <span class="flex items-center gap-2">
                                <span class="w-3 h-3 bg-gray-400 rounded-full"></span>
                                Zone 1
                            </span>
                            <span class="font-medium">&lt; 55% FTP</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="flex items-center gap-2">
                                <span class="w-3 h-3 bg-blue-400 rounded-full"></span>
                                Zone 2
                            </span>
                            <span class="font-medium">56-75% FTP</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="flex items-center gap-2">
                                <span class="w-3 h-3 bg-green-400 rounded-full"></span>
                                Zone 3
                            </span>
                            <span class="font-medium">76-90% FTP</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="flex items-center gap-2">
                                <span class="w-3 h-3 bg-yellow-400 rounded-full"></span>
                                Zone 4
                            </span>
                            <span class="font-medium">91-105% FTP</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="flex items-center gap-2">
                                <span class="w-3 h-3 bg-orange-400 rounded-full"></span>
                                Zone 5
                            </span>
                            <span class="font-medium">106-120% FTP</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="flex items-center gap-2">
                                <span class="w-3 h-3 bg-red-400 rounded-full"></span>
                                Zone 6
                            </span>
                            <span class="font-medium">121-150% FTP</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="flex items-center gap-2">
                                <span class="w-3 h-3 bg-purple-400 rounded-full"></span>
                                Zone 7
                            </span>
                            <span class="font-medium">&gt; 150% FTP</span>
                        </div>
                    </div>
                    
                    <div class="mt-6 pt-6 border-t border-gray-200">
                        <h4 class="font-semibold mb-3">Pro FTP Examples</h4>
                        <div class="space-y-2 text-sm text-gray-600">
                            <div class="flex justify-between">
                                <span>Tadej Pogaƒçar</span>
                                <span class="font-medium">~415W (6.3 W/kg)</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Jonas Vingegaard</span>
                                <span class="font-medium">~390W (6.2 W/kg)</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Wout van Aert</span>
                                <span class="font-medium">~430W (5.6 W/kg)</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Related Tools -->
                <div class="calc-card mb-6">
                    <h3 class="text-xl font-semibold mb-4">Related Calculators</h3>
                    <ul class="space-y-3">
                        <li><a href="/power-to-weight-ratio-calculator.html" class="text-primary hover:underline flex items-center gap-2">
                            <span>‚Üí</span> Power-to-Weight Ratio
                        </a></li>
                        <li><a href="/watts-to-calories-calculator.html" class="text-primary hover:underline flex items-center gap-2">
                            <span>‚Üí</span> Watts to Calories
                        </a></li>
                        <li><a href="/bike-gearing-calculator.html" class="text-primary hover:underline flex items-center gap-2">
                            <span>‚Üí</span> Bike Gearing Calculator
                        </a></li>
                        <li><a href="/cadence-speed-calculator.html" class="text-primary hover:underline flex items-center gap-2">
                            <span>‚Üí</span> Cadence Speed Calculator
                        </a></li>
                        <li><a href="/lactate-threshold-calculator.html" class="text-primary hover:underline flex items-center gap-2">
                            <span>‚Üí</span> Lactate Threshold Calculator
                        </a></li>
                    </ul>
                </div>

                <!-- Training Resources -->
                <div class="calc-card">
                    <h3 class="text-xl font-semibold mb-4">FTP Training Guides</h3>
                    <ul class="space-y-3">
                        <li><a href="/blog/ftp-test-week-training-plan-2025.html" class="text-primary hover:underline flex items-center gap-2">
                            <span>üìö</span> FTP Test Week Plan
                        </a></li>
                        <li><a href="/blog/why-your-ftp-dropped.html" class="text-primary hover:underline flex items-center gap-2">
                            <span>üìö</span> Why Your FTP Dropped
                        </a></li>
                        <li><a href="/blog/ftp-calculator-comparison.html" class="text-primary hover:underline flex items-center gap-2">
                            <span>üìö</span> FTP Calculator Comparison
                        </a></li>
                        <li><a href="/blog/what-is-ftp-cycling-guide.html" class="text-primary hover:underline flex items-center gap-2">
                            <span>üìö</span> What is FTP? Complete Guide
                        </a></li>
                    </ul>
                </div>
            </aside>
        </div>
        
        <!-- Recommended Power Meter -->
        <section class="mt-12 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl p-8 border border-yellow-200">
            <h2 class="text-2xl font-bold mb-6 text-gray-900">Measure Your Power Output Accurately</h2>
            
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div>
                    <h3 class="text-xl font-semibold mb-4 text-orange-900">Favero Assioma DUO Power Meter Pedals</h3>
                    <p class="text-gray-700 mb-4">
                        Get lab-quality power data for accurate FTP testing and training. The Favero Assioma DUO pedals provide dual-sided power measurement for complete cycling metrics.
                    </p>
                    
                    <ul class="space-y-2 text-gray-700 mb-6">
                        <li class="flex items-start">
                            <span class="text-green-600 mr-2">‚úì</span>
                            <span>¬±1% accuracy - Industry-leading precision</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-600 mr-2">‚úì</span>
                            <span>Dual-sided power for left/right balance</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-600 mr-2">‚úì</span>
                            <span>50+ hour battery life per charge</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-600 mr-2">‚úì</span>
                            <span>Easy installation - just replace your pedals</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-green-600 mr-2">‚úì</span>
                            <span>Works with all cycling apps (Zwift, TrainerRoad, etc.)</span>
                        </li>
                    </ul>
                    
                    <div class="mb-4">
                        <a href="https://amzn.to/3Hw3XeB" target="_blank" rel="noopener noreferrer" class="inline-block bg-gradient-to-r from-yellow-600 to-orange-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-yellow-700 hover:to-orange-700 transition-all duration-300 shadow-lg">
                            View on Amazon ‚Üí
                        </a>
                    </div>
                    
                    <p class="text-xs text-gray-600 italic">
                        <strong>Affiliate Disclosure:</strong> As an Amazon Associate, we earn from qualifying purchases at no additional cost to you. This helps support our free calculators.
                    </p>
                </div>
                
                <div class="flex justify-center">
                    <div class="bg-gradient-to-br from-yellow-100 to-orange-100 rounded-lg p-8 text-center">
                        <div class="text-6xl mb-4">‚ö°</div>
                        <p class="text-sm text-gray-600 font-semibold">Favero Assioma DUO</p>
                        <p class="text-xs text-gray-500 mt-2">Professional Power Meter Pedals</p>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Footer -->
    <footer class="bg-gray-900 text-white mt-12">
        <div class="container mx-auto px-4 py-12">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <h4 class="text-lg font-semibold mb-4">RunBikeCalc</h4>
                    <p class="text-gray-400">Free calculator tools for runners, cyclists, and endurance athletes.</p>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Calculators</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="/ftp-calculator.html" class="hover:text-white">FTP Calculator</a></li>
                        <li><a href="/heart-rate-zone-calculator.html" class="hover:text-white">Heart Rate Zones</a></li>
                        <li><a href="/running-pace-calculator.html" class="hover:text-white">Running Pace</a></li>
                        <li><a href="/vo2-max-calculator.html" class="hover:text-white">VO2 Max</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Resources</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="/blog" class="hover:text-white">Blog</a></li>
                        <li><a href="/about.html" class="hover:text-white">About</a></li>
                        <li><a href="/contact.html" class="hover:text-white">Contact</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Legal</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="/privacy.html" class="hover:text-white">Privacy Policy</a></li>
                        <li><a href="/terms.html" class="hover:text-white">Terms of Service</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2025 RunBikeCalc. All rights reserved.</p>
            </div>
        </div>
    </footer>
    
    <!-- JavaScript -->
    <script src="/js/calculators.js"></script>
    <script>
    // Tab functionality
    document.querySelectorAll('.tab-button').forEach(button => {
        button.addEventListener('click', () => {
            // Remove active class from all tabs
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active', 'border-primary', 'text-primary');
                btn.classList.add('border-transparent', 'text-gray-500');
            });
            
            // Add active class to clicked tab
            button.classList.add('active', 'border-primary', 'text-primary');
            button.classList.remove('border-transparent', 'text-gray-500');
            
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.add('hidden');
            });
            
            // Show corresponding tab content
            const tabId = button.id.replace('-tab', '-calculator');
            document.getElementById(tabId).classList.remove('hidden');
        });
    });

    // Calculator functionality
    function calculateFTP(testType, power, weight = null, weightUnit = 'kg') {
        let ftp;
        
        switch(testType) {
            case 'twenty-min':
                ftp = Math.round(power * 0.95);
                break;
            case 'eight-min':
                ftp = Math.round(power * 0.90);
                break;
            case 'ramp':
                ftp = Math.round(power * 0.75);
                break;
            case 'race-40k':
                ftp = Math.round(power * 0.96);
                break;
            case 'race-20k':
                ftp = Math.round(power / 1.03);
                break;
            case 'race-climb':
                ftp = Math.round(power * 0.97);
                break;
            case 'race-crit':
                ftp = Math.round(power * 0.90);
                break;
            default:
                ftp = power;
        }
        
        // Calculate power zones
        const zones = {
            zone1: `< ${Math.round(ftp * 0.55)}W`,
            zone2: `${Math.round(ftp * 0.56)}-${Math.round(ftp * 0.75)}W`,
            zone3: `${Math.round(ftp * 0.76)}-${Math.round(ftp * 0.90)}W`,
            zone4: `${Math.round(ftp * 0.91)}-${Math.round(ftp * 1.05)}W`,
            zone5: `${Math.round(ftp * 1.06)}-${Math.round(ftp * 1.20)}W`,
            zone6: `${Math.round(ftp * 1.21)}-${Math.round(ftp * 1.50)}W`,
            zone7: `> ${Math.round(ftp * 1.50)}W`
        };
        
        // Calculate W/kg if weight provided
        let wkg = null;
        if (weight) {
            const weightKg = weightUnit === 'lbs' ? weight * 0.453592 : weight;
            wkg = (ftp / weightKg).toFixed(2);
        }
        
        return { ftp, zones, wkg };
    }

    // Form handlers
    document.getElementById('twenty-min-form').addEventListener('submit', (e) => {
        e.preventDefault();
        const power = parseFloat(document.getElementById('twenty-min-power').value);
        const weight = parseFloat(document.getElementById('twenty-min-weight').value) || null;
        const weightUnit = document.getElementById('twenty-min-weight-units').value;
        
        const result = calculateFTP('twenty-min', power, weight, weightUnit);
        displayResults(result);
    });

    document.getElementById('eight-min-form').addEventListener('submit', (e) => {
        e.preventDefault();
        const power1 = parseFloat(document.getElementById('eight-min-power1').value);
        const power2 = parseFloat(document.getElementById('eight-min-power2').value);
        const avgPower = (power1 + power2) / 2;
        const weight = parseFloat(document.getElementById('eight-min-weight').value) || null;
        const weightUnit = document.getElementById('eight-min-weight-units').value;
        
        const result = calculateFTP('eight-min', avgPower, weight, weightUnit);
        displayResults(result);
    });

    document.getElementById('ramp-form').addEventListener('submit', (e) => {
        e.preventDefault();
        const power = parseFloat(document.getElementById('ramp-power').value);
        const weight = parseFloat(document.getElementById('ramp-weight').value) || null;
        const weightUnit = document.getElementById('ramp-weight-units').value;
        
        const result = calculateFTP('ramp', power, weight, weightUnit);
        displayResults(result);
    });

    document.getElementById('race-form').addEventListener('submit', (e) => {
        e.preventDefault();
        const raceType = document.getElementById('race-type').value;
        const power = parseFloat(document.getElementById('race-power').value);
        const weight = parseFloat(document.getElementById('race-weight').value) || null;
        const weightUnit = document.getElementById('race-weight-units').value;
        
        const testTypeMap = {
            '40k': 'race-40k',
            '20k': 'race-20k',
            'climb': 'race-climb',
            'crit': 'race-crit'
        };
        
        const result = calculateFTP(testTypeMap[raceType], power, weight, weightUnit);
        displayResults(result);
    });

    function displayResults(result) {
        document.getElementById('ftp-watts').textContent = result.ftp;
        document.getElementById('ftp-wkg-display').textContent = result.wkg ? `${result.wkg} W/kg` : 'Enter weight for W/kg';
        
        // Update zones
        Object.keys(result.zones).forEach(zone => {
            document.getElementById(zone).textContent = result.zones[zone];
        });
        
        // Show results
        document.getElementById('results').classList.remove('hidden');
        
        // Scroll to results
        document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
    }
    </script>
</body>
</html>